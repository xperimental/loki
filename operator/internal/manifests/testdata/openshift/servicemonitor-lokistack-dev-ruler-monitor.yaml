apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  creationTimestamp: null
  labels:
    app.kubernetes.io/component: ruler
    app.kubernetes.io/created-by: lokistack-controller
    app.kubernetes.io/instance: lokistack-dev
    app.kubernetes.io/managed-by: lokistack-controller
    app.kubernetes.io/name: lokistack
  name: lokistack-dev-ruler-monitor
  namespace: openshift-logging
spec:
  endpoints:
  - bearerTokenSecret:
      key: ""
    path: /metrics
    port: metrics
    scheme: https
    tlsConfig:
      ca:
        configMap:
          key: service-ca.crt
          name: lokistack-dev-ca-bundle
      cert:
        secret:
          key: tls.crt
          name: lokistack-dev-ruler-http
      keySecret:
        key: tls.key
        name: lokistack-dev-ruler-http
      serverName: lokistack-dev-ruler-http.openshift-logging.svc.cluster.local
  jobLabel: loki.grafana.com/component
  namespaceSelector:
    matchNames:
    - openshift-logging
  selector:
    matchLabels:
      app.kubernetes.io/component: ruler
      app.kubernetes.io/created-by: lokistack-controller
      app.kubernetes.io/instance: lokistack-dev
      app.kubernetes.io/managed-by: lokistack-controller
      app.kubernetes.io/name: lokistack
