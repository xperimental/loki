apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
  creationTimestamp: null
  labels:
    app.kubernetes.io/component: lokistack-gateway
    app.kubernetes.io/created-by: lokistack-controller
    app.kubernetes.io/instance: lokistack-dev
    app.kubernetes.io/managed-by: lokistack-controller
    app.kubernetes.io/name: lokistack
  name: lokistack-dev-gateway-monitor
  namespace: openshift-logging
spec:
  endpoints:
  - bearerTokenSecret:
      key: token
      name: lokistack-dev-gateway-token
    path: /metrics
    port: metrics
    scheme: https
    tlsConfig:
      ca:
        configMap:
          key: service-ca.crt
          name: lokistack-dev-gateway-ca-bundle
      cert: {}
      serverName: lokistack-dev-gateway-http.openshift-logging.svc.cluster.local
  - bearerTokenSecret:
      key: token
      name: lokistack-dev-gateway-token
    path: /metrics
    port: opa-metrics
    scheme: https
    tlsConfig:
      ca:
        configMap:
          key: service-ca.crt
          name: lokistack-dev-gateway-ca-bundle
      cert: {}
      serverName: lokistack-dev-gateway-http.openshift-logging.svc.cluster.local
  jobLabel: loki.grafana.com/component
  namespaceSelector:
    matchNames:
    - openshift-logging
  selector:
    matchLabels:
      app.kubernetes.io/component: lokistack-gateway
      app.kubernetes.io/created-by: lokistack-controller
      app.kubernetes.io/instance: lokistack-dev
      app.kubernetes.io/managed-by: lokistack-controller
      app.kubernetes.io/name: lokistack
